<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Virginia Bill Tracker</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --bg-primary: #f8fafc;
            --bg-card: #ffffff;
            --text-primary: #0f172a;
            --text-secondary: #475569;
            --text-muted: #94a3b8;
            --border-color: #e2e8f0;
            --accent: #6366f1;
            --accent-hover: #4f46e5;
            --success: #10b981;
            --success-bg: #ecfdf5;
            --warning: #f59e0b;
            --warning-bg: #fffbeb;
            --error: #ef4444;
            --error-bg: #fef2f2;
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --radius: 8px;
            --radius-lg: 12px;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-primary);
            min-height: 100vh;
            padding: 24px;
            color: var(--text-primary);
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            background: var(--bg-card);
            padding: 24px 28px;
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-color);
            margin-bottom: 20px;
        }

        .header h1 {
            color: var(--text-primary);
            font-size: 1.5rem;
            font-weight: 700;
            letter-spacing: -0.025em;
        }

        .header-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid var(--border-color);
        }

        .sync-info {
            color: var(--text-secondary);
            font-size: 13px;
        }

        .sync-time {
            color: var(--accent);
            font-weight: 600;
        }

        .btn {
            background: var(--accent);
            color: white;
            border: none;
            padding: 10px 18px;
            border-radius: var(--radius);
            cursor: pointer;
            font-size: 13px;
            font-weight: 600;
            transition: all 0.15s ease;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            text-decoration: none;
        }

        .btn:hover {
            background: var(--accent-hover);
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-secondary {
            background: var(--bg-primary);
            color: var(--text-secondary);
            border: 1px solid var(--border-color);
        }

        .btn-secondary:hover {
            background: var(--bg-card);
            border-color: var(--text-muted);
            color: var(--text-primary);
        }

        .changes-banner {
            background: var(--warning-bg);
            border: 1px solid #fcd34d;
            padding: 14px 18px;
            margin-bottom: 20px;
            border-radius: var(--radius);
            font-size: 14px;
            font-weight: 500;
            color: #92400e;
        }

        .changes-banner.no-changes {
            background: var(--success-bg);
            border-color: #6ee7b7;
            color: #065f46;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(15, 23, 42, 0.6);
            backdrop-filter: blur(4px);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal.active {
            display: flex;
            animation: fadeIn 0.15s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: var(--bg-card);
            padding: 28px;
            border-radius: var(--radius-lg);
            max-width: 560px;
            width: 100%;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: var(--shadow-lg);
            animation: slideUp 0.2s ease;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border-color);
        }

        .modal-header h2 {
            color: var(--text-primary);
            font-size: 1.125rem;
            font-weight: 600;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: var(--text-muted);
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: var(--radius);
            transition: all 0.15s ease;
        }

        .close-btn:hover {
            background: var(--bg-primary);
            color: var(--text-primary);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 6px;
            color: var(--text-primary);
            font-weight: 500;
            font-size: 14px;
        }

        .form-group input {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            font-size: 14px;
            font-family: inherit;
            transition: all 0.15s ease;
            background: var(--bg-card);
        }

        .form-group input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .form-help {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 6px;
            line-height: 1.5;
        }

        .form-help a {
            color: var(--accent);
            text-decoration: none;
        }

        .form-help a:hover {
            text-decoration: underline;
        }

        .bills-list {
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            padding: 12px;
            max-height: 180px;
            overflow-y: auto;
            background: var(--bg-primary);
        }

        .bill-tag {
            display: inline-flex;
            align-items: center;
            background: var(--accent);
            color: white;
            padding: 6px 10px;
            border-radius: 6px;
            margin: 3px;
            font-size: 12px;
            font-weight: 500;
        }

        .bill-tag button {
            background: none;
            border: none;
            color: rgba(255,255,255,0.8);
            margin-left: 6px;
            cursor: pointer;
            font-size: 14px;
            line-height: 1;
            padding: 0;
            transition: color 0.15s ease;
        }

        .bill-tag button:hover {
            color: white;
        }

        .add-bill-form {
            display: flex;
            gap: 8px;
            margin-top: 12px;
        }

        .add-bill-form input {
            flex: 1;
        }

        .alert {
            padding: 12px 16px;
            border-radius: var(--radius);
            margin-bottom: 16px;
            font-size: 14px;
            font-weight: 500;
        }

        .alert-info {
            background: #eff6ff;
            color: #1e40af;
            border: 1px solid #bfdbfe;
        }

        .alert-success {
            background: var(--success-bg);
            color: #065f46;
            border: 1px solid #6ee7b7;
        }

        .alert-error {
            background: var(--error-bg);
            color: #991b1b;
            border: 1px solid #fca5a5;
        }

        .bills-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }

        .bill-card {
            background: var(--bg-card);
            padding: 20px;
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-color);
            transition: all 0.2s ease;
            cursor: pointer;
            display: flex;
            flex-direction: column;
        }

        .bill-card:hover {
            border-color: var(--accent);
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }

        .bill-card.has-changes {
            border-color: var(--warning);
            background: var(--warning-bg);
        }

        .bill-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: 12px;
        }

        .bill-number {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--text-primary);
            letter-spacing: -0.025em;
        }

        .bill-status {
            display: inline-flex;
            align-items: center;
            padding: 4px 10px;
            border-radius: 50px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.025em;
            white-space: nowrap;
        }

        .status-left-in-committee {
            background: var(--warning-bg);
            color: #b45309;
        }

        .status-in-committee,
        .status-pending {
            background: #eff6ff;
            color: #1d4ed8;
        }

        .status-passed,
        .status-passed-senate,
        .status-passed-house,
        .status-passed-both-chambers {
            background: var(--success-bg);
            color: #047857;
        }

        .status-signed-into-law {
            background: #f0fdf4;
            color: #15803d;
        }

        .status-failed,
        .status-vetoed {
            background: var(--error-bg);
            color: #b91c1c;
        }

        .status-continued {
            background: #faf5ff;
            color: #7c3aed;
        }

        .status-not-found {
            background: var(--bg-primary);
            color: var(--text-muted);
        }

        .bill-summary {
            color: var(--text-secondary);
            font-size: 14px;
            line-height: 1.65;
            margin-bottom: 16px;
            display: -webkit-box;
            -webkit-line-clamp: 4;
            -webkit-box-orient: vertical;
            overflow: hidden;
            flex-grow: 1;
        }

        .bill-card:hover .bill-summary {
            color: var(--text-primary);
        }

        .bill-footer {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding-top: 12px;
            border-top: 1px solid var(--border-color);
            margin-top: auto;
        }

        .expand-hint {
            color: var(--text-muted);
            font-size: 12px;
            font-weight: 500;
            transition: color 0.15s ease;
        }

        .bill-card:hover .expand-hint {
            color: var(--accent);
        }

        .bill-link {
            color: var(--accent);
            text-decoration: none;
            font-size: 13px;
            font-weight: 500;
            transition: all 0.15s ease;
        }

        .bill-link:hover {
            color: var(--accent-hover);
        }

        .change-badge {
            background: #fef3c7;
            color: #b45309;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-left: 8px;
        }

        .changes-section {
            background: var(--bg-card);
            padding: 24px;
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-color);
        }

        .changes-section h2 {
            color: var(--text-primary);
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 16px;
        }

        .change-item {
            padding: 12px 14px;
            background: var(--bg-primary);
            border-radius: var(--radius);
            margin-bottom: 8px;
            border-left: 3px solid var(--accent);
        }

        .change-item:last-child {
            margin-bottom: 0;
        }

        .change-timestamp {
            color: var(--text-muted);
            font-size: 12px;
            margin-top: 4px;
        }

        .no-bills {
            background: var(--bg-card);
            padding: 48px;
            border-radius: var(--radius-lg);
            text-align: center;
            border: 1px solid var(--border-color);
        }

        .no-bills h2 {
            color: var(--text-primary);
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .no-bills p {
            color: var(--text-muted);
            font-size: 14px;
        }

        .loading {
            text-align: center;
            padding: 24px;
            color: var(--text-muted);
        }

        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-muted);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üèõÔ∏è Virginia Bill Tracker</h1>
            <div class="header-actions">
                <div class="sync-info">
                    Last synced: <span class="sync-time">February 07, 2026 at 08:22 AM ET</span>
                </div>
                <button class="btn" onclick="openConfigModal()">‚öôÔ∏è Configure Bills</button>
            </div>
        </div>
        

        <div class="changes-banner ">
            <strong>‚ö†Ô∏è 8 change(s) detected since last sync</strong>
        </div>
        <div class="bills-grid">

            <div class="bill-card " onclick="openBillDetail('HB1161')">
                <div class="bill-header">
                    <div class="bill-number">
                        HB1161
                        
                    </div>
                    <div class="bill-status status-pending">
                        Pending
                    </div>
                </div>
                <div class="bill-summary">
                    Government Data Collection and Dissemination Practices Act;  dissemination of personal information to federal government; civil penalties.  Provides that any agency or political subdivision of the Commonwealth shall only  disseminate personal information (i) to the extent necessary to comply with  state or federal law, including the federal Health Insurance Portability and  Accountability Act; (ii) to the extent necessary to carry out the  administration of a state or federal program pursuant to state or federal law;  (iii) to comply with a subpoena, court order, or administrative proceeding;  (iv) to the extent necessary to ensure fulfillment of the obligations of a  purchase or contract made in accordance with the Virginia Public Procurement  Act; or (v) when the data subject has given consent. The bill authorizes a  court, in the case of a willful and knowing violation, to subject a specific  public officer, appointee, or employee of any agency to civil penalties.
                </div>
                <div class="bill-footer">
                    <span class="expand-hint">Click to view details</span>
                    <a href="https://lis.virginia.gov/bill-details/20261/HB1161" target="_blank" class="bill-link" onclick="event.stopPropagation()">
                        View on LIS ‚Üí
                    </a>
                </div>
            </div>

            <div class="bill-card has-changes" onclick="openBillDetail('HB126')">
                <div class="bill-header">
                    <div class="bill-number">
                        HB126
                        <span class="change-badge">UPDATED</span>
                    </div>
                    <div class="bill-status status-passed-house">
                        Passed House
                    </div>
                </div>
                <div class="bill-summary">
                    Local, regional, and community correctional facilities; access to counsel for inmates. Requires the State Board of Local and Regional Jails to establish additional standards no later than January 1, 2027, to ensure access to legal counsel for inmates held in any local, regional, or community correctional facility and enumerates the standards that the Board shall include in such additional standards.
                </div>
                <div class="bill-footer">
                    <span class="expand-hint">Click to view details</span>
                    <a href="https://lis.virginia.gov/bill-details/20261/HB126" target="_blank" class="bill-link" onclick="event.stopPropagation()">
                        View on LIS ‚Üí
                    </a>
                </div>
            </div>

            <div class="bill-card has-changes" onclick="openBillDetail('HB1260')">
                <div class="bill-header">
                    <div class="bill-number">
                        HB1260
                        <span class="change-badge">UPDATED</span>
                    </div>
                    <div class="bill-status status-pending">
                        Pending
                    </div>
                </div>
                <div class="bill-summary">
                    Public elementary and secondary schools and public  institutions of higher education; certain federal immigration investigation and  enforcement activities; certain notifications and prohibitions. Requires, no  later than July 1, 2027, and subject to certain enumerated conditions and  requirements, (i) the written school crisis,  emergency management, and medical emergency response plan for each public  elementary or secondary school to include (a) a requirement  that whenever the division superintendent confirms that an individual is  present on the property of a public elementary or secondary school in the  school division to investigate compliance with, enforce, or assist in the  investigation for compliance with or enforcement of any federal civil  immigration law or any federal criminal immigration law that penalizes an  individual's presence in, entry or reentry into, or employment in the United  States, each school board employee at such school and the parents of each  student enrolled in such school shall be notified of such presence and (b) a  prohibition against any individual present on the property of a public  elementary or secondary school in the school division to investigate compliance  with, enforce, or assist in the investigation for compliance with or  enforcement of any federal civil immigration law or any federal criminal  immigration law that penalizes an individual's presence in, entry or reentry  into, or employment in the United States from accessing any nonpublic area of  such school property without a warrant signed by a judge or magistrate and (ii) each public institution of higher education to  (a) notify all students, faculty, and staff whenever the  institution confirms that an individual is present on campus to investigate  compliance with, enforce, or assist in the investigation for compliance with or  enforcement of any federal civil immigration law or any federal criminal  immigration law that penalizes an individual's presence in, entry or reentry into,  or employment in the United States and (b) prohibit  any individual present on campus to investigate compliance with, enforce, or  assist in the investigation for compliance with or enforcement of any federal  civil immigration law or any federal criminal immigration law that penalizes an  individual's presence in, entry or reentry into, or employment in the United  States from accessing any nonpublic area of campus without a warrant signed by  a judge or magistrate.
                </div>
                <div class="bill-footer">
                    <span class="expand-hint">Click to view details</span>
                    <a href="https://lis.virginia.gov/bill-details/20261/HB1260" target="_blank" class="bill-link" onclick="event.stopPropagation()">
                        View on LIS ‚Üí
                    </a>
                </div>
            </div>

            <div class="bill-card has-changes" onclick="openBillDetail('HB1264')">
                <div class="bill-header">
                    <div class="bill-number">
                        HB1264
                        <span class="change-badge">UPDATED</span>
                    </div>
                    <div class="bill-status status-continued">
                        Continued
                    </div>
                </div>
                <div class="bill-summary">
                    Virginia Accountability Commission established. Creates  the Virginia Accountability Commission (the Commission).  The Commission shall (i) create a public record of the conduct of federal  agents and any federal military-style operations throughout the Commonwealth,  (ii) examine the impact of that conduct on individuals and communities, and  (iii) consider policy recommendations to prevent future harms to these  individuals and communities. The bill requires the Commission to provide, not  later than January 31, 2027, an initial status report outlining its findings  and recommendations to the Governor, and not later than April 30, 2027, any  supplementary reports the Commission deems appropriate. The bill provides that  the Commission shall be composed of a chair, vice-chair,  and up to seven additional members, for a total membership of up to nine  uncompensated members, as appointed by the Governor, the House of Delegates,  and the Senate. The bill also provides that the term of each Commission member  shall expire one year from the date of his  appointment, and Commissioners may be reappointed or replaced at the pleasure  of the appointing authority. Finally, the bill requires the Office of Civil  Rights with the Office of the Attorney General to provide administrative and  professional staff support to the operations of the Commission. The Commission  may also work with subject matter experts and non-profit organizations as it  deems appropriate.
                </div>
                <div class="bill-footer">
                    <span class="expand-hint">Click to view details</span>
                    <a href="https://lis.virginia.gov/bill-details/20261/HB1264" target="_blank" class="bill-link" onclick="event.stopPropagation()">
                        View on LIS ‚Üí
                    </a>
                </div>
            </div>

            <div class="bill-card " onclick="openBillDetail('HB1459')">
                <div class="bill-header">
                    <div class="bill-number">
                        HB1459
                        
                    </div>
                    <div class="bill-status status-pending">
                        Pending
                    </div>
                </div>
                <div class="bill-summary">
                    Ice-Free Communities Act; notification  to federal immigration authorities of pending release of certain persons from  custody.
                </div>
                <div class="bill-footer">
                    <span class="expand-hint">Click to view details</span>
                    <a href="https://lis.virginia.gov/bill-details/20261/HB1459" target="_blank" class="bill-link" onclick="event.stopPropagation()">
                        View on LIS ‚Üí
                    </a>
                </div>
            </div>

            <div class="bill-card has-changes" onclick="openBillDetail('HB1482')">
                <div class="bill-header">
                    <div class="bill-number">
                        HB1482
                        <span class="change-badge">UPDATED</span>
                    </div>
                    <div class="bill-status status-pending">
                        Pending
                    </div>
                </div>
                <div class="bill-summary">
                    Law-enforcement officers; restrictions on wearing of facial  coverings; required identification; exceptions; civil liability; penalty. Prohibits  state and local law-enforcement officers from wearing facial coverings, defined  in the bill, while engaged in the performance of their official duties. The  bill sets out several exceptions to such prohibition, including protective  facial coverings to protect against disease, infection, and exposure to toxic  substances and facial coverings worn by any  law-enforcement officer assigned to a special weapons and tactics team while  engaged in the performance of his official duties with such team. The bill subjects the law-enforcement officer to disciplinary action,  including dismissal, demotion, suspension, transfer, or decertification. The  bill also requires law-enforcement officers to visibly display certain  identification while engaged in the performance of their duties and creates  a Class 1 misdemeanor for any law-enforcement officer who wears a facial  covering or fails to visibly display such identification in violation of the  provisions of the bill. Finally, the bill creates a civil cause of action for  any person injured as a result of tortious conduct by a law-enforcement officer  who knowingly and intentionally wears a facial covering in violation of the  provisions of the bill. The bill provides that sovereign immunity shall not be  a defense to civil liability for such tortious conduct.
                </div>
                <div class="bill-footer">
                    <span class="expand-hint">Click to view details</span>
                    <a href="https://lis.virginia.gov/bill-details/20261/HB1482" target="_blank" class="bill-link" onclick="event.stopPropagation()">
                        View on LIS ‚Üí
                    </a>
                </div>
            </div>

            <div class="bill-card has-changes" onclick="openBillDetail('HB1492')">
                <div class="bill-header">
                    <div class="bill-number">
                        HB1492
                        <span class="change-badge">UPDATED</span>
                    </div>
                    <div class="bill-status status-pending">
                        Pending
                    </div>
                </div>
                <div class="bill-summary">
                    Impersonating federal law-enforcement officer; penalties. Increases from a Class 1 misdemeanor to a  Class 6 felony the penalty for impersonating a federal law-enforcement officer  and increases the penalty for a second or subsequent violation from a Class 6  felony to a Class 5 felony.
                </div>
                <div class="bill-footer">
                    <span class="expand-hint">Click to view details</span>
                    <a href="https://lis.virginia.gov/bill-details/20261/HB1492" target="_blank" class="bill-link" onclick="event.stopPropagation()">
                        View on LIS ‚Üí
                    </a>
                </div>
            </div>

            <div class="bill-card has-changes" onclick="openBillDetail('HB650')">
                <div class="bill-header">
                    <div class="bill-number">
                        HB650
                        <span class="change-badge">UPDATED</span>
                    </div>
                    <div class="bill-status status-in-committee">
                        In Committee
                    </div>
                </div>
                <div class="bill-summary">
                    Certain civil arrests prohibited in  courthouses; penalty. Provides that a party who is required to attend any  court of the Commonwealth, or such party's family or household member or person  attending the court with such party to serve as a witness, shall be privileged  from civil arrest, defined in the bill, while attending, going to, or coming  from the court. The bill also prohibits a person with the lawful authority to  perform civil arrests from entering a courthouse to conduct a civil arrest  unless he complies with certain requirements, including presenting a judicial  warrant or judicial order authorizing the civil arrest to the appropriate  courthouse officer or employee. Additionally, the bill requires that any  judicial warrant or judicial order authorizing the civil arrest be reviewed by  a designated judicial officer or attorney before a civil arrest pursuant to  such warrant or order can be performed. Finally, the bill provides that any  person who conducts a civil arrest, or facilitates or assists with the  performance of, a civil arrest in violation of the provisions of the bill shall  be punished with contempt of court.
                </div>
                <div class="bill-footer">
                    <span class="expand-hint">Click to view details</span>
                    <a href="https://lis.virginia.gov/bill-details/20261/HB650" target="_blank" class="bill-link" onclick="event.stopPropagation()">
                        View on LIS ‚Üí
                    </a>
                </div>
            </div>

            <div class="bill-card " onclick="openBillDetail('HB7')">
                <div class="bill-header">
                    <div class="bill-number">
                        HB7
                        
                    </div>
                    <div class="bill-status status-pending">
                        Pending
                    </div>
                </div>
                <div class="bill-summary">
                    Law-enforcement officers; restrictions  on wearing of facial coverings; exceptions; civil liability; penalty. Prohibits  certain state and federal law-enforcement officers from wearing facial  coverings, defined in the bill, while engaged in the performance of their  official duties. The bill sets out several exceptions to such prohibition,  including protective facial coverings to protect against disease, infection,  and exposure to toxic substances and facial coverings worn  by any law-enforcement officer assigned to a special weapons and tactics  team while engaged in the performance of his official duties with such team.  The bill subjects the law-enforcement officer to  disciplinary action, including dismissal, demotion, suspension, transfer, or  decertification, and creates a Class 1 misdemeanor for any  law-enforcement officer who wears a facial covering in violation of the  provisions of the bill unless the law-enforcement agency that employs such  law-enforcement officer has adopted and established a written policy for and  restrictions on the use of facial coverings. The  bill also directs the Department of Criminal Justice Services to develop a  model policy for and restrictions on the use of  facial coverings by law-enforcement officers.  Finally, the bill creates a civil cause of action for any  person injured as a result of tortious conduct by a law-enforcement officer who  knowingly and intentionally wears a facial covering in violation of the  provisions of the bill. The bill provides that sovereign immunity shall not be  a defense to civil liability for such tortious conduct.
                </div>
                <div class="bill-footer">
                    <span class="expand-hint">Click to view details</span>
                    <a href="https://lis.virginia.gov/bill-details/20261/HB7" target="_blank" class="bill-link" onclick="event.stopPropagation()">
                        View on LIS ‚Üí
                    </a>
                </div>
            </div>

            <div class="bill-card " onclick="openBillDetail('HB912')">
                <div class="bill-header">
                    <div class="bill-number">
                        HB912
                        
                    </div>
                    <div class="bill-status status-pending">
                        Pending
                    </div>
                </div>
                <div class="bill-summary">
                    Public schools; right to free public elementary and  secondary education; discrimination based on immigration status prohibited;  requirements; civil cause of action. Prohibits any child in the Commonwealth  from being denied a free public education through secondary school on the basis  of the actual or perceived immigration or citizenship status of the child or  the child's parents, in accordance with the Constitution of Virginia and  consistent with the requirements of the Fourteenth Amendment to the United  States Constitution. The bill prohibits any school board or public elementary  or secondary school from engaging in certain enumerated actions and practices  that involve or result in the denial of a free public education, or denial of  the benefits or exclusion from participation in any program or activity  thereof, of a child on the basis of the actual or perceived immigration or  citizenship status of the child or the child's parents. The bill also requires  each public elementary and secondary school to develop and implement procedures  for reviewing and authorizing requests from law enforcement agents to enter a  public school or public school facility. The bill establishes a civil cause of  action for any party aggrieved by conduct that violates the provisions of the  bill, in accordance with the provisions of the bill.   Finally, the bill directs (i) the Department of Education to  develop and make available to each school board by August 1, 2026, guidance for  school personnel on the requirements of the bill and training guidelines and  materials for the training of all public school principals and administrators  on compliance with the provisions of the bill, and (ii) each school board to  (a) develop and implement by August 1, 2026, policies and procedures in  accordance with the provisions of the bill and (b) require each public school  principal and administrator to complete training on compliance with the  provisions of the bill by the beginning of the 2026-2027 school year.
                </div>
                <div class="bill-footer">
                    <span class="expand-hint">Click to view details</span>
                    <a href="https://lis.virginia.gov/bill-details/20261/HB912" target="_blank" class="bill-link" onclick="event.stopPropagation()">
                        View on LIS ‚Üí
                    </a>
                </div>
            </div>

            <div class="bill-card " onclick="openBillDetail('HB993')">
                <div class="bill-header">
                    <div class="bill-number">
                        HB993
                        
                    </div>
                    <div class="bill-status status-pending">
                        Pending
                    </div>
                </div>
                <div class="bill-summary">
                    Driver privilege cards and permits; discontinued.  Discontinues the issuance of driver privilege cards and provides that any issued  driver privilege card is invalid as of July 1, 2026. The bill requires the Department  of Motor Vehicles to notify any person who has been issued a driver privilege card  that such driver privilege card is invalid.
                </div>
                <div class="bill-footer">
                    <span class="expand-hint">Click to view details</span>
                    <a href="https://lis.virginia.gov/bill-details/20261/HB993" target="_blank" class="bill-link" onclick="event.stopPropagation()">
                        View on LIS ‚Üí
                    </a>
                </div>
            </div>

            <div class="bill-card " onclick="openBillDetail('SB351')">
                <div class="bill-header">
                    <div class="bill-number">
                        SB351
                        
                    </div>
                    <div class="bill-status status-passed-senate">
                        Passed Senate
                    </div>
                </div>
                <div class="bill-summary">
                    Certain civil arrests prohibited in courthouses; penalty. Provides  that a party who is required to attend any court of the Commonwealth, or such  party's family or household member or person attending the court with such party  to serve as a witness, shall be privileged from civil arrest, defined in the  bill, while attending, going to, or coming from the court. The bill also  prohibits a person with the lawful authority to perform civil arrests from  entering a courthouse to conduct a civil arrest unless he complies with certain  requirements, including presenting a judicial warrant or judicial order  authorizing the civil arrest to the appropriate courthouse officer or employee.  Additionally, the bill requires that any judicial warrant or judicial order  authorizing the civil arrest be reviewed by a designated judicial officer or  attorney before a civil arrest pursuant to such warrant or order can be  performed. Finally, the bill provides that any person who conducts a civil arrest,  or facilitates or assists with the performance of, a civil arrest in violation  of the provisions of the bill shall be punished with contempt of court.
                </div>
                <div class="bill-footer">
                    <span class="expand-hint">Click to view details</span>
                    <a href="https://lis.virginia.gov/bill-details/20261/SB351" target="_blank" class="bill-link" onclick="event.stopPropagation()">
                        View on LIS ‚Üí
                    </a>
                </div>
            </div>
        </div>

        <div class="changes-section">
            <h2>Recent Changes</h2>

            <div class="change-item">
                <div>HB126 new action: Referred to Committee on Rehabilitation and Social Services</div>
                <div class="change-timestamp">
                    February 07, 2026 at 08:22 AM
                </div>
            </div>

            <div class="change-item">
                <div>HB1260 new action: Incorporated by Public Safety (HB650-Callsen)  (Voice Vote)</div>
                <div class="change-timestamp">
                    February 07, 2026 at 08:22 AM
                </div>
            </div>

            <div class="change-item">
                <div>HB1264 status changed: Pending ‚Üí Continued</div>
                <div class="change-timestamp">
                    February 07, 2026 at 08:22 AM
                </div>
            </div>

            <div class="change-item">
                <div>HB1264 new action: Continued to next session in Public Safety (Voice Vote)</div>
                <div class="change-timestamp">
                    February 07, 2026 at 08:22 AM
                </div>
            </div>

            <div class="change-item">
                <div>HB1482 new action: Reported from Public Safety with amendment(s) (15-Y 7-N)</div>
                <div class="change-timestamp">
                    February 07, 2026 at 08:22 AM
                </div>
            </div>

            <div class="change-item">
                <div>HB1492 new action: Fiscal Impact Statement from Department of Planning and Budget (HB1492)</div>
                <div class="change-timestamp">
                    February 07, 2026 at 08:22 AM
                </div>
            </div>

            <div class="change-item">
                <div>HB650 status changed: Pending ‚Üí In Committee</div>
                <div class="change-timestamp">
                    February 07, 2026 at 08:22 AM
                </div>
            </div>

            <div class="change-item">
                <div>HB650 new action: Committee substitute printed 26107314D-H1</div>
                <div class="change-timestamp">
                    February 07, 2026 at 08:22 AM
                </div>
            </div>

        </div>

    <!-- Bill Detail Modal -->
    <div id="billDetailModal" class="modal">
        <div class="modal-content detail-modal">
            <div class="modal-header">
                <h2 id="detailBillNumber">Bill Details</h2>
                <button class="close-btn" onclick="closeBillDetail()">&times;</button>
            </div>

            <div class="detail-meta">
                <span class="detail-status-pill" id="detailBillStatus"></span>
                <span class="detail-patron" id="detailPatron"></span>
            </div>

            <div class="detail-section">
                <div class="detail-label">Summary</div>
                <p id="detailSummary" class="detail-summary-full"></p>
            </div>

            <div class="detail-section" id="detailHistorySection">
                <div class="detail-label">Action History</div>
                <div class="history-timeline" id="detailHistory">
                    <!-- History items will be rendered here -->
                </div>
            </div>

            <div class="detail-footer">
                <button class="btn btn-secondary" onclick="closeBillDetail()">Close</button>
                <a id="detailLisLink" href="#" target="_blank" class="btn">View on LIS ‚Üí</a>
            </div>
        </div>
    </div>

    <style>
        .detail-modal {
            max-width: 650px;
        }
        .detail-meta {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 1px solid #e5e7eb;
        }
        .detail-status-pill {
            display: inline-flex;
            align-items: center;
            padding: 8px 16px;
            border-radius: 50px;
            font-size: 13px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .detail-status-pill.status-left-in-committee {
            background: #fef3c7;
            color: #92400e;
        }
        .detail-status-pill.status-passed-senate,
        .detail-status-pill.status-passed-house,
        .detail-status-pill.status-passed-both-chambers {
            background: #d1fae5;
            color: #065f46;
        }
        .detail-status-pill.status-signed-into-law {
            background: #c7d2fe;
            color: #3730a3;
        }
        .detail-status-pill.status-vetoed,
        .detail-status-pill.status-failed {
            background: #fee2e2;
            color: #991b1b;
        }
        .detail-status-pill.status-in-committee,
        .detail-status-pill.status-pending {
            background: #dbeafe;
            color: #1e40af;
        }
        .detail-patron {
            color: #6b7280;
            font-size: 14px;
            font-style: italic;
        }
        .detail-section {
            margin-bottom: 24px;
        }
        .detail-label {
            color: #6b7280;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }
        .detail-summary-full {
            color: #1f2937;
            font-size: 15px;
            line-height: 1.75;
            margin: 0;
        }
        .history-timeline {
            max-height: 300px;
            overflow-y: auto;
            padding-right: 8px;
        }
        .history-item {
            display: flex;
            gap: 12px;
            padding: 12px 0;
            border-bottom: 1px solid #f3f4f6;
        }
        .history-item:last-child {
            border-bottom: none;
        }
        .history-date {
            flex-shrink: 0;
            width: 90px;
            color: #6366f1;
            font-size: 13px;
            font-weight: 600;
        }
        .history-desc {
            color: #374151;
            font-size: 14px;
            line-height: 1.5;
        }
        .detail-footer {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            margin-top: 24px;
            padding-top: 16px;
            border-top: 1px solid #e5e7eb;
        }
    </style>

    <!-- Configuration Modal -->
    <div id="configModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Configure Tracked Bills</h2>
                <button class="close-btn" onclick="closeConfigModal()">&times;</button>
            </div>
            
            <div id="alertContainer"></div>
            
            <div class="form-group">
                <label>GitHub Personal Access Token</label>
                <input type="password" id="githubToken" placeholder="ghp_xxxxxxxxxxxx" onchange="saveTokenToStorage()">
                <div class="form-help">
                    Required to save changes. Your token is saved locally in your browser for convenience.
                    <br>Create one at:
                    <a href="https://github.com/settings/tokens/new?scopes=repo&description=Virginia%20Bill%20Tracker" target="_blank">
                        GitHub Settings ‚Üí Tokens
                    </a>
                    (select "repo" scope)
                </div>
            </div>
            
            <div class="form-group">
                <label>Tracked Bills</label>
                <div class="bills-list" id="billsList">
                    <!-- Bills will be rendered here -->
                </div>
                <div class="add-bill-form">
                    <input type="text" id="newBillInput" placeholder="Enter bill ID (e.g., HB1, SB200)" 
                           onkeypress="if(event.key==='Enter')addBill()">
                    <button class="btn" onclick="addBill()">Add Bill</button>
                </div>
                <div class="form-help">
                    Find bill IDs at: <a href="https://lis.virginia.gov/bill-search" target="_blank">Virginia LIS</a>
                </div>
            </div>
            
            <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 20px;">
                <button class="btn btn-secondary" onclick="closeConfigModal()">Cancel</button>
                <button class="btn" onclick="saveConfiguration()">üíæ Save Changes</button>
            </div>
        </div>
    </div>
    
    <script>
        // Configuration data
        let trackedBills = ["HB1161", "HB126", "HB1260", "HB1264", "HB1459", "HB1482", "HB1492", "HB650", "HB7", "HB912", "HB993", "SB351"];
        const REPO_NAME = 'ulucaydin/virginia-bill-tracker';
        const CONFIG_FILE_PATH = 'bills_to_track.json';

        // Bills data for detail modal
        const billsData = {"HB1161": {"bill_number": "HB1161", "status": "Pending", "summary": "Government Data Collection and Dissemination Practices Act;  dissemination of personal information to federal government; civil penalties.  Provides that any agency or political subdivision of the Commonwealth shall only  disseminate personal information (i) to the extent necessary to comply with  state or federal law, including the federal Health Insurance Portability and  Accountability Act; (ii) to the extent necessary to carry out the  administration of a state or federal program pursuant to state or federal law;  (iii) to comply with a subpoena, court order, or administrative proceeding;  (iv) to the extent necessary to ensure fulfillment of the obligations of a  purchase or contract made in accordance with the Virginia Public Procurement  Act; or (v) when the data subject has given consent. The bill authorizes a  court, in the case of a willful and knowing violation, to subject a specific  public officer, appointee, or employee of any agency to civil penalties.", "last_action": "Passed by for the day", "last_action_date": "2/6/2026", "patron": "Tran", "bill_url": "https://lis.virginia.gov/bill-details/20261/HB1161", "history": [{"date": "2/6/2026", "description": "H Passed by for the day"}, {"date": "2/5/2026", "description": "H Passed by for the day"}, {"date": "2/4/2026", "description": "H Passed by for the day"}, {"date": "2/3/2026", "description": "H Passed by temporarily"}, {"date": "2/3/2026", "description": "H Read second time"}, {"date": "2/3/2026", "description": "H Delegate Williams Floor amendments passed by (62-Y 34-N 0-A)"}, {"date": "2/2/2026", "description": "H Read first time"}, {"date": "1/29/2026", "description": "H Reported from General Laws (15-Y 6-N)"}, {"date": "1/28/2026", "description": "H Placed on General Laws Agenda"}, {"date": "1/27/2026", "description": "H Subcommittee recommends reporting (7-Y 3-N)"}, {"date": "1/26/2026", "description": "H Assigned HGL sub: Procurement/Open Government"}, {"date": "1/26/2026", "description": "H Placed on General Laws Agenda"}, {"date": "1/14/2026", "description": "H Prefiled and ordered printed; Offered 01-14-2026 26105209D"}, {"date": "1/14/2026", "description": "H Referred to Committee on General Laws"}]}, "HB126": {"bill_number": "HB126", "status": "Passed House", "summary": "Local, regional, and community correctional facilities; access to counsel for inmates. Requires the State Board of Local and Regional Jails to establish additional standards no later than January 1, 2027, to ensure access to legal counsel for inmates held in any local, regional, or community correctional facility and enumerates the standards that the Board shall include in such additional standards.", "last_action": "Referred to Committee on Rehabilitation and Social Services", "last_action_date": "2/6/2026", "patron": "Callsen", "bill_url": "https://lis.virginia.gov/bill-details/20261/HB126", "history": [{"date": "2/6/2026", "description": "S Constitutional reading dispensed (on 1st reading)"}, {"date": "2/6/2026", "description": "S Referred to Committee on Rehabilitation and Social Services"}, {"date": "2/5/2026", "description": "H Read third time and passed House (89-Y 8-N 0-A)"}, {"date": "2/5/2026", "description": "H Fiscal Impact Statement from Department of Planning and Budget (HB126)"}, {"date": "2/4/2026", "description": "H Read second time"}, {"date": "2/4/2026", "description": "H committee amendments agreed to"}, {"date": "2/4/2026", "description": "H Engrossed by House as amended"}, {"date": "2/3/2026", "description": "H Read first time"}, {"date": "1/30/2026", "description": "H House committee offered"}, {"date": "1/30/2026", "description": "H Reported from Public Safety with amendment(s) (17-Y 4-N)"}, {"date": "1/29/2026", "description": "H Subcommittee recommends reporting (7-Y 0-N)"}, {"date": "1/29/2026", "description": "H Placed on Public Safety Agenda"}, {"date": "1/27/2026", "description": "H Placed on Public Safety Agenda"}, {"date": "1/2/2026", "description": "H Prefiled and ordered printed; Offered 01-14-2026 26101260D"}, {"date": "1/2/2026", "description": "H Referred to Committee on Public Safety"}, {"date": "1/16/2026", "description": "H Assigned HPS sub: Subcommittee #2"}]}, "HB1260": {"bill_number": "HB1260", "status": "Pending", "summary": "Public elementary and secondary schools and public  institutions of higher education; certain federal immigration investigation and  enforcement activities; certain notifications and prohibitions. Requires, no  later than July 1, 2027, and subject to certain enumerated conditions and  requirements, (i) the written school crisis,  emergency management, and medical emergency response plan for each public  elementary or secondary school to include (a) a requirement  that whenever the division superintendent confirms that an individual is  present on the property of a public elementary or secondary school in the  school division to investigate compliance with, enforce, or assist in the  investigation for compliance with or enforcement of any federal civil  immigration law or any federal criminal immigration law that penalizes an  individual's presence in, entry or reentry into, or employment in the United  States, each school board employee at such school and the parents of each  student enrolled in such school shall be notified of such presence and (b) a  prohibition against any individual present on the property of a public  elementary or secondary school in the school division to investigate compliance  with, enforce, or assist in the investigation for compliance with or  enforcement of any federal civil immigration law or any federal criminal  immigration law that penalizes an individual's presence in, entry or reentry  into, or employment in the United States from accessing any nonpublic area of  such school property without a warrant signed by a judge or magistrate and (ii) each public institution of higher education to  (a) notify all students, faculty, and staff whenever the  institution confirms that an individual is present on campus to investigate  compliance with, enforce, or assist in the investigation for compliance with or  enforcement of any federal civil immigration law or any federal criminal  immigration law that penalizes an individual's presence in, entry or reentry into,  or employment in the United States and (b) prohibit  any individual present on campus to investigate compliance with, enforce, or  assist in the investigation for compliance with or enforcement of any federal  civil immigration law or any federal criminal immigration law that penalizes an  individual's presence in, entry or reentry into, or employment in the United  States from accessing any nonpublic area of campus without a warrant signed by  a judge or magistrate.", "last_action": "Incorporated by Public Safety (HB650-Callsen)  (Voice Vote)", "last_action_date": "2/6/2026", "patron": "Shin", "bill_url": "https://lis.virginia.gov/bill-details/20261/HB1260", "history": [{"date": "2/6/2026", "description": "H Subcommittee recommends incorporating (Voice Vote)"}, {"date": "2/6/2026", "description": "H Placed on Public Safety Agenda"}, {"date": "2/6/2026", "description": "H Incorporated by Public Safety (HB650-Callsen)  (Voice Vote)"}, {"date": "2/3/2026", "description": "H Assigned HMPPS sub: Subcommittee #3"}, {"date": "2/3/2026", "description": "H Placed on Public Safety Agenda"}, {"date": "2/2/2026", "description": "H Referred from Education and referred to Public Safety (Voice Vote)"}, {"date": "2/2/2026", "description": "H Referred to Committee on Public Safety"}, {"date": "1/30/2026", "description": "H Placed on Education Agenda"}, {"date": "1/28/2026", "description": "H Fiscal Impact Statement from Department of Planning and Budget (HB1260)"}, {"date": "1/14/2026", "description": "H Prefiled and ordered printed; Offered 01-14-2026 26104922D"}, {"date": "1/14/2026", "description": "H Referred to Committee on Education"}]}, "HB1264": {"bill_number": "HB1264", "status": "Continued", "summary": "Virginia Accountability Commission established. Creates  the Virginia Accountability Commission (the Commission).  The Commission shall (i) create a public record of the conduct of federal  agents and any federal military-style operations throughout the Commonwealth,  (ii) examine the impact of that conduct on individuals and communities, and  (iii) consider policy recommendations to prevent future harms to these  individuals and communities. The bill requires the Commission to provide, not  later than January 31, 2027, an initial status report outlining its findings  and recommendations to the Governor, and not later than April 30, 2027, any  supplementary reports the Commission deems appropriate. The bill provides that  the Commission shall be composed of a chair, vice-chair,  and up to seven additional members, for a total membership of up to nine  uncompensated members, as appointed by the Governor, the House of Delegates,  and the Senate. The bill also provides that the term of each Commission member  shall expire one year from the date of his  appointment, and Commissioners may be reappointed or replaced at the pleasure  of the appointing authority. Finally, the bill requires the Office of Civil  Rights with the Office of the Attorney General to provide administrative and  professional staff support to the operations of the Commission. The Commission  may also work with subject matter experts and non-profit organizations as it  deems appropriate.", "last_action": "Continued to next session in Public Safety (Voice Vote)", "last_action_date": "2/6/2026", "patron": "Shin", "bill_url": "https://lis.virginia.gov/bill-details/20261/HB1264", "history": [{"date": "2/6/2026", "description": "H Subcommittee recommends continuing to  (Voice Vote)"}, {"date": "2/6/2026", "description": "H Placed on Public Safety Agenda"}, {"date": "2/6/2026", "description": "H Continued to next session in Public Safety (Voice Vote)"}, {"date": "2/3/2026", "description": "H Assigned HMPPS sub: Subcommittee #3"}, {"date": "2/3/2026", "description": "H Placed on Public Safety Agenda"}, {"date": "1/14/2026", "description": "H Prefiled and ordered printed; Offered 01-14-2026 26105283D"}, {"date": "1/14/2026", "description": "H Referred to Committee on Public Safety"}]}, "HB1459": {"bill_number": "HB1459", "status": "Pending", "summary": "Ice-Free Communities Act; notification  to federal immigration authorities of pending release of certain persons from  custody.", "last_action": "Fiscal Impact Statement from Department of Planning and Budget (HB1459)", "last_action_date": "2/2/2026", "patron": "Zehr", "bill_url": "https://lis.virginia.gov/bill-details/20261/HB1459", "history": [{"date": "2/3/2026", "description": "H Placed on Public Safety Agenda"}, {"date": "2/2/2026", "description": "H Fiscal Impact Statement from Department of Planning and Budget (HB1459)"}, {"date": "1/28/2026", "description": "H Assigned HMPPS sub: Subcommittee #3"}, {"date": "1/23/2026", "description": "H Presented and ordered printed 26106083D"}, {"date": "1/23/2026", "description": "H Referred to Committee on Public Safety"}]}, "HB1482": {"bill_number": "HB1482", "status": "Pending", "summary": "Law-enforcement officers; restrictions on wearing of facial  coverings; required identification; exceptions; civil liability; penalty. Prohibits  state and local law-enforcement officers from wearing facial coverings, defined  in the bill, while engaged in the performance of their official duties. The  bill sets out several exceptions to such prohibition, including protective  facial coverings to protect against disease, infection, and exposure to toxic  substances and facial coverings worn by any  law-enforcement officer assigned to a special weapons and tactics team while  engaged in the performance of his official duties with such team. The bill subjects the law-enforcement officer to disciplinary action,  including dismissal, demotion, suspension, transfer, or decertification. The  bill also requires law-enforcement officers to visibly display certain  identification while engaged in the performance of their duties and creates  a Class 1 misdemeanor for any law-enforcement officer who wears a facial  covering or fails to visibly display such identification in violation of the  provisions of the bill. Finally, the bill creates a civil cause of action for  any person injured as a result of tortious conduct by a law-enforcement officer  who knowingly and intentionally wears a facial covering in violation of the  provisions of the bill. The bill provides that sovereign immunity shall not be  a defense to civil liability for such tortious conduct.", "last_action": "Reported from Public Safety with amendment(s) (15-Y 7-N)", "last_action_date": "2/6/2026", "patron": "Schmidt", "bill_url": "https://lis.virginia.gov/bill-details/20261/HB1482", "history": [{"date": "2/6/2026", "description": "H House subcommittee offered"}, {"date": "2/6/2026", "description": "H Subcommittee recommends reporting with amendment(s) (4-Y 1-N)"}, {"date": "2/6/2026", "description": "H Placed on Public Safety Agenda"}, {"date": "2/6/2026", "description": "H Reported from Public Safety with amendment(s) (15-Y 7-N)"}, {"date": "2/3/2026", "description": "H Placed on Public Safety Agenda"}, {"date": "1/29/2026", "description": "H Fiscal Impact Statement from Department of Planning and Budget (HB1482)"}, {"date": "1/28/2026", "description": "H Assigned HMPPS sub: Subcommittee #3"}, {"date": "1/23/2026", "description": "H Presented and ordered printed 26105678D"}, {"date": "1/23/2026", "description": "H Referred to Committee on Public Safety"}]}, "HB1492": {"bill_number": "HB1492", "status": "Pending", "summary": "Impersonating federal law-enforcement officer; penalties. Increases from a Class 1 misdemeanor to a  Class 6 felony the penalty for impersonating a federal law-enforcement officer  and increases the penalty for a second or subsequent violation from a Class 6  felony to a Class 5 felony.", "last_action": "Fiscal Impact Statement from Department of Planning and Budget (HB1492)", "last_action_date": "2/6/2026", "patron": "Shin", "bill_url": "https://lis.virginia.gov/bill-details/20261/HB1492", "history": [{"date": "2/6/2026", "description": "H House subcommittee offered"}, {"date": "2/6/2026", "description": "H Subcommittee recommends reporting with substitute (4-Y 1-N)"}, {"date": "2/6/2026", "description": "H Placed on Public Safety Agenda"}, {"date": "2/6/2026", "description": "H Reported from Public Safety with substitute (16-Y 6-N)"}, {"date": "2/6/2026", "description": "H Committee substitute printed 26107156D-H1"}, {"date": "2/6/2026", "description": "H Fiscal Impact statement From VCSC (2/6/2026 11:11 am)"}, {"date": "2/6/2026", "description": "H Fiscal Impact Statement from Department of Planning and Budget (HB1492)"}, {"date": "2/3/2026", "description": "H Placed on Public Safety Agenda"}, {"date": "1/28/2026", "description": "H Assigned HMPPS sub: Subcommittee #3"}, {"date": "1/26/2026", "description": "H Fiscal Impact Statement from Department of Planning and Budget (HB1492)"}, {"date": "1/23/2026", "description": "H Presented and ordered printed 26105681D"}, {"date": "1/23/2026", "description": "H Fiscal Impact statement From VCSC (1/23/2026 3:11 pm)"}, {"date": "1/23/2026", "description": "H Referred to Committee on Public Safety"}]}, "HB650": {"bill_number": "HB650", "status": "In Committee", "summary": "Certain civil arrests prohibited in  courthouses; penalty. Provides that a party who is required to attend any  court of the Commonwealth, or such party's family or household member or person  attending the court with such party to serve as a witness, shall be privileged  from civil arrest, defined in the bill, while attending, going to, or coming  from the court. The bill also prohibits a person with the lawful authority to  perform civil arrests from entering a courthouse to conduct a civil arrest  unless he complies with certain requirements, including presenting a judicial  warrant or judicial order authorizing the civil arrest to the appropriate  courthouse officer or employee. Additionally, the bill requires that any  judicial warrant or judicial order authorizing the civil arrest be reviewed by  a designated judicial officer or attorney before a civil arrest pursuant to  such warrant or order can be performed. Finally, the bill provides that any  person who conducts a civil arrest, or facilitates or assists with the  performance of, a civil arrest in violation of the provisions of the bill shall  be punished with contempt of court.", "last_action": "Committee substitute printed 26107314D-H1", "last_action_date": "2/6/2026", "patron": "Callsen", "bill_url": "https://lis.virginia.gov/bill-details/20261/HB650", "history": [{"date": "2/6/2026", "description": "H House subcommittee offered"}, {"date": "2/6/2026", "description": "H Subcommittee recommends reporting with substitute (4-Y 1-N)"}, {"date": "2/6/2026", "description": "H Placed on Public Safety Agenda"}, {"date": "2/6/2026", "description": "H Incorporates HB1265 (Glass)"}, {"date": "2/6/2026", "description": "H Incorporates HB1442 (Lopez)"}, {"date": "2/6/2026", "description": "H Incorporates HB1440 (Lopez)"}, {"date": "2/6/2026", "description": "H Incorporates HB1260 (Shin)"}, {"date": "2/6/2026", "description": "H Reported from Public Safety with substitute (15-Y 7-N)"}, {"date": "2/6/2026", "description": "H Committee substitute printed 26107314D-H1"}, {"date": "2/3/2026", "description": "H Placed on Public Safety Agenda"}, {"date": "2/2/2026", "description": "H Fiscal Impact Statement from Department of Planning and Budget (HB650)"}, {"date": "1/29/2026", "description": "H Assigned HMPPS sub: Subcommittee #3"}, {"date": "1/28/2026", "description": "H Referred from Courts of Justice and referred to Public Safety (Voice Vote)"}, {"date": "1/28/2026", "description": "H Referred to Committee on Public Safety"}, {"date": "1/27/2026", "description": "H Placed on Courts of Justice Agenda"}, {"date": "1/13/2026", "description": "H Prefiled and ordered printed; Offered 01-14-2026 26105002D"}, {"date": "1/13/2026", "description": "H Referred to Committee for Courts of Justice"}]}, "HB7": {"bill_number": "HB7", "status": "Pending", "summary": "Law-enforcement officers; restrictions  on wearing of facial coverings; exceptions; civil liability; penalty. Prohibits  certain state and federal law-enforcement officers from wearing facial  coverings, defined in the bill, while engaged in the performance of their  official duties. The bill sets out several exceptions to such prohibition,  including protective facial coverings to protect against disease, infection,  and exposure to toxic substances and facial coverings worn  by any law-enforcement officer assigned to a special weapons and tactics  team while engaged in the performance of his official duties with such team.  The bill subjects the law-enforcement officer to  disciplinary action, including dismissal, demotion, suspension, transfer, or  decertification, and creates a Class 1 misdemeanor for any  law-enforcement officer who wears a facial covering in violation of the  provisions of the bill unless the law-enforcement agency that employs such  law-enforcement officer has adopted and established a written policy for and  restrictions on the use of facial coverings. The  bill also directs the Department of Criminal Justice Services to develop a  model policy for and restrictions on the use of  facial coverings by law-enforcement officers.  Finally, the bill creates a civil cause of action for any  person injured as a result of tortious conduct by a law-enforcement officer who  knowingly and intentionally wears a facial covering in violation of the  provisions of the bill. The bill provides that sovereign immunity shall not be  a defense to civil liability for such tortious conduct.", "last_action": "Fiscal Impact Statement from Department of Planning and Budget (HB7)", "last_action_date": "1/19/2026", "patron": "Jones", "bill_url": "https://lis.virginia.gov/bill-details/20261/HB7", "history": [{"date": "11/20/2025", "description": "H Prefiled and ordered printed; Offered 01-14-2026 26101899D"}, {"date": "11/20/2025", "description": "H Referred to Committee on Public Safety"}, {"date": "1/19/2026", "description": "H Fiscal Impact Statement from Department of Planning and Budget (HB7)"}]}, "HB912": {"bill_number": "HB912", "status": "Pending", "summary": "Public schools; right to free public elementary and  secondary education; discrimination based on immigration status prohibited;  requirements; civil cause of action. Prohibits any child in the Commonwealth  from being denied a free public education through secondary school on the basis  of the actual or perceived immigration or citizenship status of the child or  the child's parents, in accordance with the Constitution of Virginia and  consistent with the requirements of the Fourteenth Amendment to the United  States Constitution. The bill prohibits any school board or public elementary  or secondary school from engaging in certain enumerated actions and practices  that involve or result in the denial of a free public education, or denial of  the benefits or exclusion from participation in any program or activity  thereof, of a child on the basis of the actual or perceived immigration or  citizenship status of the child or the child's parents. The bill also requires  each public elementary and secondary school to develop and implement procedures  for reviewing and authorizing requests from law enforcement agents to enter a  public school or public school facility. The bill establishes a civil cause of  action for any party aggrieved by conduct that violates the provisions of the  bill, in accordance with the provisions of the bill.   Finally, the bill directs (i) the Department of Education to  develop and make available to each school board by August 1, 2026, guidance for  school personnel on the requirements of the bill and training guidelines and  materials for the training of all public school principals and administrators  on compliance with the provisions of the bill, and (ii) each school board to  (a) develop and implement by August 1, 2026, policies and procedures in  accordance with the provisions of the bill and (b) require each public school  principal and administrator to complete training on compliance with the  provisions of the bill by the beginning of the 2026-2027 school year.", "last_action": "Assigned HED sub: K-12 Subcommittee", "last_action_date": "2/5/2026", "patron": "Lopez", "bill_url": "https://lis.virginia.gov/bill-details/20261/HB912", "history": [{"date": "2/5/2026", "description": "H Assigned HED sub: K-12 Subcommittee"}, {"date": "1/29/2026", "description": "H Fiscal Impact Statement from Department of Planning and Budget (HB912)"}, {"date": "1/13/2026", "description": "H Prefiled and ordered printed; Offered 01-14-2026 26102214D"}, {"date": "1/13/2026", "description": "H Referred to Committee on Education"}]}, "HB993": {"bill_number": "HB993", "status": "Pending", "summary": "Driver privilege cards and permits; discontinued.  Discontinues the issuance of driver privilege cards and provides that any issued  driver privilege card is invalid as of July 1, 2026. The bill requires the Department  of Motor Vehicles to notify any person who has been issued a driver privilege card  that such driver privilege card is invalid.", "last_action": "Subcommittee recommends laying on the table (6-Y 4-N)", "last_action_date": "1/27/2026", "patron": "Garrett", "bill_url": "https://lis.virginia.gov/bill-details/20261/HB993", "history": [{"date": "1/27/2026", "description": "H Subcommittee recommends laying on the table (6-Y 4-N)"}, {"date": "1/26/2026", "description": "H Placed on Transportation Agenda"}, {"date": "1/22/2026", "description": "H Assigned HTRAN sub: Department of Motor Vehicles"}, {"date": "1/13/2026", "description": "H Prefiled and ordered printed; Offered 01-14-2026 26102108D"}, {"date": "1/13/2026", "description": "H Referred to Committee on Transportation"}]}, "SB351": {"bill_number": "SB351", "status": "Passed Senate", "summary": "Certain civil arrests prohibited in courthouses; penalty. Provides  that a party who is required to attend any court of the Commonwealth, or such  party's family or household member or person attending the court with such party  to serve as a witness, shall be privileged from civil arrest, defined in the  bill, while attending, going to, or coming from the court. The bill also  prohibits a person with the lawful authority to perform civil arrests from  entering a courthouse to conduct a civil arrest unless he complies with certain  requirements, including presenting a judicial warrant or judicial order  authorizing the civil arrest to the appropriate courthouse officer or employee.  Additionally, the bill requires that any judicial warrant or judicial order  authorizing the civil arrest be reviewed by a designated judicial officer or  attorney before a civil arrest pursuant to such warrant or order can be  performed. Finally, the bill provides that any person who conducts a civil arrest,  or facilitates or assists with the performance of, a civil arrest in violation  of the provisions of the bill shall be punished with contempt of court.", "last_action": "Read first time", "last_action_date": "2/6/2026", "patron": "Salim", "bill_url": "https://lis.virginia.gov/bill-details/20261/SB351", "history": [{"date": "2/6/2026", "description": "H Placed on Calendar"}, {"date": "2/6/2026", "description": "H Read first time"}, {"date": "2/6/2026", "description": "H Referred to Committee on Public Safety"}, {"date": "2/3/2026", "description": "S Read third time and passed Senate (21-Y 18-N 0-A)"}, {"date": "2/2/2026", "description": "S Committee substitute printed 26106261D-S1"}, {"date": "2/2/2026", "description": "S Read second time"}, {"date": "2/2/2026", "description": "S Committee substitute agreed to (Voice Vote)"}, {"date": "2/2/2026", "description": "S Engrossed by Senate - committee substitute (Voice Vote)"}, {"date": "1/30/2026", "description": "S Rules suspended"}, {"date": "1/30/2026", "description": "S Constitutional reading dispensed  Block Vote (on 1st reading) (38-Y 0-N 0-A)"}, {"date": "1/30/2026", "description": "S Passed by for the day  Block Vote (Voice Vote)"}, {"date": "1/28/2026", "description": "S Senate committee offered"}, {"date": "1/28/2026", "description": "S Reported from Courts of Justice with substitute (9-Y 6-N)"}, {"date": "1/13/2026", "description": "S Prefiled and ordered printed; Offered 01-14-2026 26101062D"}, {"date": "1/13/2026", "description": "S Referred to Committee for Courts of Justice"}]}};

        // Bill Detail Modal functions
        function openBillDetail(billNum) {
            const bill = billsData[billNum];
            if (!bill) return;

            document.getElementById('detailBillNumber').textContent = bill.bill_number;
            const statusEl = document.getElementById('detailBillStatus');
            statusEl.textContent = bill.status;
            statusEl.className = 'detail-status-pill status-' + bill.status.toLowerCase().replace(/ /g, '-');
            document.getElementById('detailSummary').textContent = bill.summary;
            document.getElementById('detailLisLink').href = bill.bill_url;

            // Show patron if available
            const patronEl = document.getElementById('detailPatron');
            if (bill.patron) {
                patronEl.textContent = 'Patron: ' + bill.patron;
                patronEl.style.display = 'inline';
            } else {
                patronEl.style.display = 'none';
            }

            // Show action history
            const historySection = document.getElementById('detailHistorySection');
            const historyContainer = document.getElementById('detailHistory');
            if (bill.history && bill.history.length > 0) {
                historyContainer.innerHTML = bill.history.map(item =>
                    `<div class="history-item">
                        <span class="history-date">${item.date}</span>
                        <span class="history-desc">${item.description}</span>
                    </div>`
                ).join('');
                historySection.style.display = 'block';
            } else {
                historyContainer.innerHTML = '<p style="color: #9ca3af;">No action history available</p>';
                historySection.style.display = 'block';
            }

            document.getElementById('billDetailModal').classList.add('active');
        }

        function closeBillDetail() {
            document.getElementById('billDetailModal').classList.remove('active');
        }

        // Close detail modal on outside click
        document.getElementById('billDetailModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeBillDetail();
            }
        });

        // Render bills list
        function renderBillsList() {
            const container = document.getElementById('billsList');
            if (trackedBills.length === 0) {
                container.innerHTML = '<p style="color: #666; padding: 10px;">No bills tracked yet. Add one below.</p>';
                return;
            }
            
            container.innerHTML = trackedBills.map(bill => 
                `<span class="bill-tag">
                    ${bill}
                    <button onclick="removeBill('${bill}')">&times;</button>
                </span>`
            ).join('');
        }
        
        // Add bill
        function addBill() {
            const input = document.getElementById('newBillInput');
            let billId = input.value.trim().toUpperCase();
            
            if (!billId) return;
            
            // Validate format (HB/SB followed by number)
            if (!billId.match(/^(HB|SB|HJR|SJR|HR|SR)\d+$/i)) {
                showAlert('Please enter a valid bill ID (e.g., HB1, SB200)', 'error');
                return;
            }
            
            if (trackedBills.includes(billId)) {
                showAlert('Bill already tracked', 'error');
                return;
            }
            
            trackedBills.push(billId);
            trackedBills.sort();
            input.value = '';
            renderBillsList();
            showAlert('Bill added. Click "Save Changes" to update.', 'info');
        }
        
        // Remove bill
        function removeBill(billId) {
            trackedBills = trackedBills.filter(b => b !== billId);
            renderBillsList();
            showAlert('Bill removed. Click "Save Changes" to update.', 'info');
        }
        
        // Save configuration to GitHub
        async function saveConfiguration() {
            const token = document.getElementById('githubToken').value.trim();
            
            if (!token) {
                showAlert('Please enter your GitHub Personal Access Token', 'error');
                return;
            }
            
            if (trackedBills.length === 0) {
                showAlert('Please add at least one bill before saving', 'error');
                return;
            }
            
            showAlert('Saving...', 'info');
            
            try {
                // Prepare new content
                const newConfig = {
                    bills: trackedBills,
                    settings: {
                        notification_email: null,
                        sync_frequency: "daily",
                        timezone: "America/New_York"
                    }
                };
                
                const content = btoa(JSON.stringify(newConfig, null, 2));
                
                // Try to get current file to check if it exists
                const getResponse = await fetch(`https://api.github.com/repos/${REPO_NAME}/contents/${CONFIG_FILE_PATH}`, {
                    headers: {
                        'Authorization': `token ${token}`,
                        'Accept': 'application/vnd.github.v3+json'
                    }
                });
                
                let sha = null;
                let method = 'PUT';
                let commitMessage = '';
                
                if (getResponse.ok) {
                    // File exists - update it
                    const currentFile = await getResponse.json();
                    sha = currentFile.sha;
                    commitMessage = `Update tracked bills via web interface - ${new Date().toISOString()}`;
                } else if (getResponse.status === 404) {
                    // File doesn't exist - create it
                    commitMessage = `Create bills_to_track.json via web interface - ${new Date().toISOString()}`;
                } else {
                    // Some other error
                    const errorData = await getResponse.json();
                    throw new Error(errorData.message || 'Failed to check configuration file. Verify your token has repo access.');
                }
                
                // Create or update file
                const saveBody = {
                    message: commitMessage,
                    content: content
                };
                
                // Only include sha if file exists (for update)
                if (sha) {
                    saveBody.sha = sha;
                }
                
                const saveResponse = await fetch(`https://api.github.com/repos/${REPO_NAME}/contents/${CONFIG_FILE_PATH}`, {
                    method: 'PUT',
                    headers: {
                        'Authorization': `token ${token}`,
                        'Accept': 'application/vnd.github.v3+json',
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(saveBody)
                });
                
                if (!saveResponse.ok) {
                    const error = await saveResponse.json();
                    
                    // Provide helpful error messages
                    let errorMessage = error.message || 'Failed to save configuration';
                    
                    if (error.message && error.message.includes('Bad credentials')) {
                        errorMessage = 'Invalid token. Please check your GitHub Personal Access Token.';
                    } else if (error.message && error.message.includes('Not Found')) {
                        errorMessage = 'Repository not found. Check that the repository name is correct.';
                    } else if (error.message && error.message.includes('Resource not accessible')) {
                        errorMessage = 'Token does not have access. Make sure your token has "repo" scope.';
                    }
                    
                    throw new Error(errorMessage);
                }
                
                showAlert('‚úÖ Configuration saved! Changes will take effect on next sync.', 'success');
                
                // Save token to localStorage for future use
                saveTokenToStorage();

            } catch (error) {
                showAlert(`Error: ${error.message}`, 'error');
                console.error('Save error:', error);
            }
        }
        
        // Show alert
        function showAlert(message, type) {
            const container = document.getElementById('alertContainer');
            const alertClass = type === 'error' ? 'alert-error' : 
                              type === 'success' ? 'alert-success' : 'alert-info';
            
            container.innerHTML = `<div class="alert ${alertClass}">${message}</div>`;
            
            if (type === 'success') {
                setTimeout(() => {
                    container.innerHTML = '';
                    closeConfigModal();
                    location.reload();
                }, 3000);
            }
        }
        
        // Token storage key
        const TOKEN_STORAGE_KEY = 'va_bill_tracker_github_token';

        // Modal controls
        function openConfigModal() {
            document.getElementById('configModal').classList.add('active');
            renderBillsList();
            // Load saved token from localStorage
            const savedToken = localStorage.getItem(TOKEN_STORAGE_KEY);
            if (savedToken) {
                document.getElementById('githubToken').value = savedToken;
            }
        }

        function closeConfigModal() {
            document.getElementById('configModal').classList.remove('active');
            document.getElementById('alertContainer').innerHTML = '';
        }

        // Save token to localStorage when user types
        function saveTokenToStorage() {
            const token = document.getElementById('githubToken').value.trim();
            if (token) {
                localStorage.setItem(TOKEN_STORAGE_KEY, token);
            }
        }
        
        // Close modal on outside click
        document.getElementById('configModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeConfigModal();
            }
        });
        
        // Initialize
        renderBillsList();
    </script>
    </div>
</body>
</html>
